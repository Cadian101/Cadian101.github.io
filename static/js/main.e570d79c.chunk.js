(this.webpackJsonpghsearcher=this.webpackJsonpghsearcher||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),s=c(5),a=c.n(s),i=(c(14),c(15),c(1)),o=function(e){var t=e.listId,c=e.optionsData;return Object(i.jsx)("datalist",{id:t,children:c.map((function(e,t){return Object(i.jsx)("option",{value:e},t)}))})},l=c(2),u=function(){var e="recent-searches",t=Object(l.c)((function(e){return e.latterMemories})),c=Object(l.b)();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{id:"input-search",className:"input input--search",type:"search",minLength:3,list:e,placeholder:"Search will start with > ".concat(3," symbols"),onChange:function(e){c({type:"search",payload:e.target.value})}}),Object(i.jsx)(o,{listId:e,optionsData:t})]})},h=c(3);var j=function(e,t){var c=Object(r.useState)(e),n=Object(h.a)(c,2),s=n[0],a=n[1];return Object(r.useEffect)((function(){var c=setTimeout((function(){return a(e)}),t||300);return function(){clearTimeout(c)}}),[e,t]),s},d=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.searchString})),c=Object(l.c)((function(e){return e.latterMemories})),n=j(t,500),s=Object(r.useState)(1),a=Object(h.a)(s,2),o=a[0],u=a[1],d=Object(r.useState)(1),b=Object(h.a)(d,2),m=b[0],O=b[1],f=Object(r.useState)([]),p=Object(h.a)(f,2),g=p[0],x=p[1],_=Object(r.useState)(),y=Object(h.a)(_,2),N=y[0],v=y[1],w=j(m,500);return Object(r.useEffect)((function(){var t;n?(n!==c[c.length-1]&&e({type:"remind",payload:c.concat([n])}),(t=n,fetch("https://api.github.com/search/repositories?q=".concat(t,"&per_page=").concat(10,"&page=").concat(m),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return new Error(e)}))).then((function(e){void 0!==e.message?v(e.message):e.items.length>=1?(x(e.items),u((function(){var t=Math.ceil(e.total_count/10)<=1e3?Math.ceil(e.total_count/10):100;return m>t&&O(t),isNaN(t)?1:t})),v(void 0)):x([])}))):(x([]),O(1),u(1))}),[n,w]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"search-result-paging",children:[Object(i.jsx)("button",{className:"search-result-paging__button",disabled:1===m,onClick:function(){return 1===m?0:O((function(e){return e-1}))},children:"<"}),Object(i.jsxs)("span",{children:["Page",Object(i.jsx)("input",{className:"search-result-paging__input",type:"number",min:"1",max:o,value:m,onChange:function(e){O(+e.target.value)}}),"of ",o]}),Object(i.jsx)("button",{className:"search-result-paging__button",disabled:m===o,onClick:function(){return m<o?O((function(e){return e+1})):0},children:">"})]}),N&&Object(i.jsx)("p",{children:N}),Object(i.jsx)("ul",{className:"search-result",children:g&&g.map((function(e,t){return Object(i.jsx)("li",{className:"search-result__item",children:Object(i.jsxs)("div",{className:"search-result__item-wrapper",children:[Object(i.jsx)("h2",{className:"title",children:Object(i.jsx)("a",{className:"title__link",href:e.html_url,rel:"noopener noreferrer",target:"_blank",children:e.name})}),Object(i.jsxs)("dl",{className:"feature feature--rowed",children:[Object(i.jsx)("dt",{className:"feature__term",children:"Language:"}),Object(i.jsx)("dd",{className:"feature__description",children:e.language})]}),Object(i.jsxs)("dl",{className:"feature",children:[Object(i.jsx)("dt",{className:"feature__term",children:"Description:"}),Object(i.jsx)("dd",{className:"feature__description",children:e.description})]})]})},t)}))})]})},b=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.latterMemories})),c=window.sessionStorage,n=function(e,t){try{c.setItem(e,"undefined"!==typeof t||"object"!==typeof t&&"function"!==typeof t?JSON.stringify(t):t)}catch(r){throw new Error("Something went wrong during storage setup ".concat(r))}},s=function(e){try{return JSON.parse(c.getItem(e))}catch(t){throw new Error("Something went wrong during storage read ".concat(t))}};return Object(r.useEffect)((function(){"object"!==typeof s("searchHistory")?n("searchHistory",t):e({type:"remind",payload:s("searchHistory")})}),[]),Object(r.useEffect)((function(){s("searchHistory")!==t&&n("searchHistory",t)}),[t]),Object(i.jsxs)("div",{className:"search-history",children:[Object(i.jsxs)("h3",{className:"search-history__title",children:["Search history ",Object(i.jsx)("span",{className:"search-history__list-order",children:"(oldest first)"})," :"]}),t&&Object(i.jsx)("ul",{className:"search-history__list",children:t.map((function(e,t){return Object(i.jsx)("li",{className:"search-history__list-item",children:e},t)}))})]})};var m=function(){return Object(i.jsxs)("main",{className:"App",children:[Object(i.jsxs)("header",{className:"header",children:[Object(i.jsx)("strong",{className:"logo",children:Object(i.jsx)("a",{className:"logo__link",href:"https://spark.adobe.com/express-apps/logo-maker/",children:"Logo"})}),Object(i.jsx)("p",{className:"description",children:"GitHub public repos search"})]}),Object(i.jsxs)("div",{className:"main-content",children:[Object(i.jsx)("article",{className:"main-content__results",children:Object(i.jsx)(d,{})}),Object(i.jsxs)("aside",{className:"main-content__aside",children:[Object(i.jsx)(u,{}),Object(i.jsx)(b,{})]})]})]})},O=c(4),f=c(9),p={searchString:"",latterMemories:[]},g=Object(f.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;if("search"===t.type)return Object(O.a)(Object(O.a)({},e),{},{searchString:t.payload});if("remind"===t.type){var c=5;return Object(O.a)(Object(O.a)({},e),{},{latterMemories:t.payload.slice(-c)})}return e})),x=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(l.a,{store:x,children:Object(i.jsx)(m,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e570d79c.chunk.js.map